<div class="users-container">
  <h2>Users</h2>
  <div class="controls">
    <input type="text" placeholder="Search by username, email, or role" [(ngModel)]="searchTerm" aria-label="Search users" />
    <select [(ngModel)]="sortBy" aria-label="Sort users">
      <option value="username">Sort by Username</option>
      <option value="role">Sort by Role</option>
    </select>
  </div>
  <div *ngIf="loading" class="spinner" aria-live="polite" aria-busy="true"></div>
  <div *ngIf="error" class="error" role="alert">{{ error }}</div>
  <div *ngIf="!loading && paginatedUsers.length === 0" class="empty" role="status">No users found.</div>
  <div class="users-list" *ngIf="paginatedUsers.length">
    <div class="user-card" *ngFor="let user of paginatedUsers" tabindex="0" [attr.aria-label]="'User: ' + user.username">
      <h3>{{ user.username }}</h3>
      <p>{{ user.email }}</p>
      <span class="role">{{ user.role }}</span>
    </div>
  </div>
  <div class="pagination" *ngIf="totalPages > 1">
    <button (click)="setPage(currentPage - 1)" [disabled]="currentPage === 1" aria-label="Previous page">&lt;</button>
    <span>Page {{ currentPage }} of {{ totalPages }}</span>
    <button (click)="setPage(currentPage + 1)" [disabled]="currentPage === totalPages" aria-label="Next page">&gt;</button>
  </div>
</div>